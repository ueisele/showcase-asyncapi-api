= Showcase AsyncAPI APIs and Schemas

== Register Schemas at Confluent Schema Registry

Register all Avro schemas which are referenced in AsyncAPI definitions at Confluent Schema Registry:

[source,bash]
----
scripts/register-schemas-confluent.sh \
    --schema-registry-url https://psrc-xm8wx.eu-central-1.aws.confluent.cloud \
    --basic-auth "${CC_SR_API_KEY}:${CC_SR_API_KEY_SECRET}"
----

Show all existing subjects:

[source,bash]
----
curl -u "${CC_SR_API_KEY}:${CC_SR_API_KEY_SECRET}" https://psrc-xm8wx.eu-central-1.aws.confluent.cloud/subjects
----

== Register AsyncAPIs at Apicurio Registry

Register all AsyncAPIs at Apicurio Registry:

[source,bash]
----
scripts/register-asyncapi-apicurio.sh \
    --apicurio-registry-url http://localhost:8080
----

Show all existing artifacts:

[source,bash]
----
curl http://localhost:8080/apis/registry/v2/groups/default/artifacts
----

Show all versions of a specific artifact:

[source,bash]
----
curl http://localhost:8080/apis/registry/v2/groups/default/artifacts/urn:de.novatec.streetlight.v1/versions
----

== Register AsyncAPIs at AsyncAPI Directory

Register all AsyncAPIs at AsyncAPI Discovery:

[source,bash]
----
scripts/register-asyncapi-directory.sh --asyncapi-directory-url http://localhost:8080
----